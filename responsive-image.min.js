!function(w){"use strict";function t(n,o,e){var i={selector:"img",background:"rgba(0,0,0,0.4)",root:"body",maxWindowWidth:"0.8",maxWindowHeight:"0.8",contentBg:"#fff",contentPadding:"10",loaderElement:'<i class="fa fa-spinner rs-loader-spinner" aria-hidden="true"></i>',onlyShowContent:!1},d=null,r=null,c=null;e=e||{},i=w.extend(i,e);var t,a=function(n){var e,t;d&&s(),i.onlyShowContent?(t=n,d||(0==t.closest(".rs-img-bg").length&&(t.wrap(function(){return'<div class="rs-img-bg" style="display:none; background-color: '+i.background+'"></div>'}),t.addClass("rs-content-wrapper").css("display","none").css("background-color",i.contentBg).css("padding",i.contentPadding+"px"),t.closest(".rs-img-bg").append(i.loaderElement)),d=t.closest(".rs-img-bg"))):(e=['<div class="rs-img-bg" style="display:none; background-color: '+i.background+'">',i.loaderElement,'<div class="rs-content-wrapper" style="display:none; background-color: '+i.contentBg+"; padding: "+i.contentPadding+'px">',o.html(),"</div>","</div>"].join(""),d=w(e).appendTo(w(i.root))),w(d).fadeIn(),g(function(){h(),p(),l()})},s=function(){i.onlyShowContent||(w(d).remove(),d=null),r=c=null,f()},g=function(n){var e=d.find(i.selector).attr("src"),t=new Image;t.onload=function(){c=this.height,r=this.width,"function"==typeof n&&n()},t.src=e},l=function(){w(d).find(".rs-loader-spinner").hide(),w(d).find(".rs-content-wrapper").fadeIn()},u=function(n){"keyup"===n.type&&27!==n.keyCode||n.target===this&&(w(d).fadeOut(400,function(){s()}),o.trigger("hide.resImage"))},h=function(){w(window).on("resize",p),w(d).on("click",u),w(document).on("keyup",u)},f=function(){w(window).off("resize",p),w(d).off("click",u),w(document).off("keyup",u)},p=function(){var n,e,t,o=(n=w(window).width()*i.maxWindowWidth-2*i.contentPadding,e=w(window).height()*i.maxWindowHeight-2*i.contentPadding,1<(t=Math.min(n/r,e/c))?{width:r+2*i.contentPadding,height:c+2*i.contentPadding}:{width:r*t+2*i.contentPadding,height:c*t+2*i.contentPadding});w(d).find(".rs-content-wrapper").css("width",o.width+"px").css("height",o.height+"px")};t=o,n.click(function(){a(t),t.trigger("show.resImage")})}void 0===w&&console.log("The Responsive image plugin need to have jQuery"),w.fn.responsiveImage=function(n,e){return new t(this,n,e)}}(jQuery);